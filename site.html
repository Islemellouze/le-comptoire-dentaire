<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Comptoir Dentaire</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="header">
        <div class="top-bar">
            <div class="contact-info">
                <span>üìû 52 664 255</span>
                <span>üöö Livraison gratuite √† partir de 200 DT sur toute la Tunisie</span>
            </div>
            <div class="user-options">
                <a href="inscrption.html" class="link"><i class="fas fa-user-plus"></i>S'inscrire</a>
                <a href="connexion.html" class="link"><i class="fas fa-sign-in-alt"></i> Se connecter</a>
                
                <div class="shopping">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="quantity">0</span>
                </div>
            </div>
        </div>
        <div class="main-header">
            <div class="logo">
                <center><img src="images.png" alt="Logo" class="logo-img" width="250" height="90"></center>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Recherche..." class="search-input" size="100">
                <button class="search-button" size="50" id="search-button">üîç</button>
            </div>
        </div>
        <script>
            // Get the search input and button elements
            const searchInput = document.getElementById('search-input');
            const searchButton = document.getElementById('search-button');
        
            // Function to handle the search
            function handleSearch() {
                const searchTerm = searchInput.value.toLowerCase().trim(); // Get the search term in lowercase
        
                if (searchTerm) {
                    // Here you can filter the content based on the search term
                    // For example, if you're searching products:
        
                    // You could call a function to load the filtered products:
                    loadProducts(searchTerm);
                } else {
                    // Optionally, you can clear the search results or show all products if the search term is empty
                    loadProducts('tous-les-produits');  // Display all products if no search term
                }
            }
        
            // Add event listener for the search button click
            searchButton.addEventListener('click', handleSearch);
        
            // Optionally, you can also trigger the search when the user presses Enter in the input field
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleSearch();
                }
            });
        </script>
        
        
    </div>
    <div class="carousel-container">
        <div class="carousel-slide">
            <img src="image7.jpg" alt="Produit 1" class="carousel-image">
    
            <div class="carousel-text">
                
            </div>
        </div>
        <div class="carousel-slide">
            <img src="image4.png" alt="Produit 2" class="carousel-image">
            <div class="carousel-text">
                
            </div>
        </div>
        <div class="carousel-slide">
            <img src="image3.jpg" alt="Produit 3" class="carousel-image">
            <div class="carousel-text">
             
            </div>
        </div>
    </div>
    <script>
        const slides = document.querySelectorAll('.carousel-slide');
        let currentSlide = 0;
    
        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
        }
    
        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }
    
        // Changer de slide toutes les 5 secondes
        setInterval(nextSlide, 5000);
    
        // Afficher le premier slide initialement
        showSlide(currentSlide);
    </script>
    
</header>
    </header>

    <section id="main-content">
        <a href="#content" class="scroll-down" id="show-menu-btn">‚¨á</a>
        <div id="content">
            <div class="horizontal-bar"></div>
        </div>
    </section>
    <script>
        const menuBar = document.getElementById('menu-bar'); // S√©lectionner la barre de menu
        const showMenuBtn = document.getElementById('show-menu-btn'); // Bouton (fl√®che)
    
        showMenuBtn.addEventListener('click', function(e) {
            e.preventDefault(); // Emp√™cher le comportement par d√©faut du lien (ancre)
            
            // Faire d√©filer la page vers le contenu principal
            const target = document.querySelector('#content');
            target.scrollIntoView({ behavior: 'smooth' }); // D√©filement fluide
    
            // Afficher la barre de menu apr√®s un d√©lai (pour donner le temps au d√©filement)
            setTimeout(() => {
                menuBar.style.display = 'block'; // Afficher le menu
            }, 1000); // Attendre 1 seconde (ajustez si n√©cessaire)
        });
    </script>

    <div class="container">
        <div class="section-left">
            <div class="categories-container">
                <h2>Cat√©gories</h2>
                <ul class="category-list" id="category-list">
                    <li data-category="tous-les-produits">Tous les produits</li>
                    <li class="new" data-category="new">NEW</li>
                    <li class="promo" data-category="promo">PROMO</li>
                    <li class="accessoires" data-category="accessoires">ACCESSOIRES (146)</li>
                    <li data-category="anesthesie">ANESTHESIE (13)</li>
                    <li data-category="ciments">CIMENTS ET FONDS DE CAVIT√â (30)</li>
                    <li data-category="empreintes">EMPREINTES ET ACCESSOIRES (56)</li>
                    <li data-category="endodontie">ENDODONTIE ET ACCESSOIRES (290)</li>
                    <li data-category="Films et RADOLOGIE DENTAIR">Films et RADOLOGIE DENTAIR (290)</li>
                    <li data-category="Gros equipement"> GROS EQUIPEMENTS(18)</li>
                    <li data-category="implantologie">Implantologie(133)</li>
                    <li data-category="imprimantes 3d">IMPRIMANTES 3D</li>
                    <li data-category="INSTRUMENTS ROTATIFS">INSTRUMENTS ROTATIFS(40)</li>
                    <li data-category="LOGICIELS">LOGICIELS(4)</li>
                    <li data-category="PACK PROMO">PACK PROMO (0)</li>
                    <li data-category="PETITS EQUIPEMENTS">PETITS EQUIPEMENTS(69)</li>
                    <li data-category="PRODUITS D'HYGIENE ET DE DESINFECTION">PRODUITS D'HYGIENE ET DE DESINFECTION (290)</li>
                </ul> 
            </div>
        </div>

        <div class="section-right">
            <div class="products-container">
                <div id="products-grid" class="products-grid">
                   
                </div>
            </div>
            <script>
        // Fonction pour charger les produits en fonction de la cat√©gorie
function loadProducts(category = "tous-les-produits") {
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "get_products.php?category=" + category, true);

    xhr.onload = function() {
        if (xhr.status == 200) {
            var products = JSON.parse(xhr.responseText);
            var container = document.getElementById('products-grid');
            container.innerHTML = ''; // Effacer les produits existants

            // Ajouter chaque produit au conteneur
            products.forEach(function(product) {
                var productDiv = document.createElement('div');
                productDiv.classList.add('product');
                productDiv.innerHTML = `
                    <h3>${product.nom}</h3>
                    <img src="${product.image}" alt="${product.nom}" style="width: 150px; height: 150px;">
                    <p>${product.description}</p>
                    <p>Prix : ${product.prix} DT</p>
                     <button  class="add-to-cart" 
            data-id="${product.id}" 
            data-name="${product.nom}" 
            data-price="${product.prix}" 
            data-image="${product.image}">
            Ajouter au panier
        </button>
                `;
                container.appendChild(productDiv);
            });
        } else {
            console.error("Erreur de chargement des produits : ", xhr.status);
        }
    };

    xhr.onerror = function() {
        console.error("Erreur r√©seau ou probl√®me avec le fichier PHP.");
    };

    xhr.send();
}

// Ajouter un √©couteur d'√©v√©nements sur chaque cat√©gorie pour charger les produits associ√©s
document.querySelectorAll('.category-list li').forEach(function(categoryItem) {
    categoryItem.addEventListener('click', function() {
        var category = this.getAttribute('data-category');
        loadProducts(category); // Charger les produits pour la cat√©gorie s√©lectionn√©e
    });
});

// Charger les produits de la cat√©gorie "Tous les produits" par d√©faut au d√©marrage
window.onload = function() {
    loadProducts('tous-les-produits');
};

    </script>
    <script>
        // R√©cup√©rer les produits depuis le localStorage
        document.addEventListener('DOMContentLoaded', function () {
            const products = JSON.parse(localStorage.getItem('products')) || [];

            const productsContainer = document.getElementById('products-container');
            productsContainer.innerHTML = ''; // R√©initialiser le conteneur des produits

            // Afficher chaque produit
            products.forEach(function (product) {
                const productDiv = document.createElement('div');
                productDiv.classList.add('product');

                const productImage = product.image ? `<img src="${product.image}" alt="${product.name}">` : '';
                const productHtml = `
                    <div class="product-card">
                        ${productImage}
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <p><strong>Prix: ${product.price} DT</strong></p>
                    </div>
                `;

                productDiv.innerHTML = productHtml;
                productsContainer.appendChild(productDiv);
            });

            if (products.length === 0) {
                productsContainer.innerHTML = '<p>Aucun produit disponible.</p>';
            }
        });
    </script>
    
        </div>
    </div>
    
    <div class="card">
        <h1>Card</h1>
        <ul class="listCard">
        </ul>
        <div class="checkOut">
            <div class="total">0</div>
            <div class="closeShopping">Close</div>
        </div>
    </div>

    <script>
        
      // Variables for shopping cart and UI elements
const openCartButton = document.querySelector('.shopping'); // Button to open cart
const closeCartButton = document.querySelector('.closeShopping'); // Button to close cart
const cartItemList = document.querySelector('.listCard'); // Container for cart items
const body = document.querySelector('body'); // Body element to toggle cart visibility
const totalPriceElement = document.querySelector('.total'); // Element to display total price
const totalQuantityElement = document.querySelector('.quantity'); // Element to display total quantity

// Show the shopping cart
openCartButton.addEventListener('click', () => {
    body.classList.add('active');
});

// Hide the shopping cart
closeCartButton.addEventListener('click', () => {
    body.classList.remove('active');
});

// Add product to the cart and store in localStorage
document.addEventListener('click', function (event) {
    if (event.target.classList.contains('add-to-cart')) {
        // Get product details from data attributes
        const productId = event.target.dataset.id;
        const productName = event.target.dataset.name || "Unnamed Product"; // Default if name is missing
        const productPrice = parseFloat(event.target.dataset.price) || 0; // Default if price is missing
        const productImage = event.target.dataset.image || "placeholder.jpg"; // Default placeholder image

        // Retrieve the current cart from localStorage or initialize an empty cart
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Check if the product already exists in the cart
        const existingProduct = cart.find(item => item.id === productId);

        if (existingProduct) {
            // If the product exists, increase its quantity
            existingProduct.quantity += 1;
        } else {
            // Add the new product to the cart
            cart.push({
                id: productId,
                name: productName,
                price: productPrice,
                image: productImage,
                quantity: 1 // Default quantity is 1 when adding
            });
        }

        // Save the updated cart back to localStorage
        localStorage.setItem('cart', JSON.stringify(cart));

        // Update the cart display
        updateCartDisplay();
    }
});

// Function to update the cart display
function updateCartDisplay() {
    // Retrieve the current cart from localStorage
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    cartItemList.innerHTML = ''; // Clear the cart item list for re-rendering
    let totalCost = 0; // Initialize total cost
    let totalItems = 0; // Initialize total items count

    cart.forEach(item => {
        // Create a container for the cart item
        const cartItem = document.createElement('li');
        cartItem.style.display = 'flex';
        cartItem.style.alignItems = 'center';
        cartItem.style.justifyContent = 'space-between';
        cartItem.style.padding = '10px';
        cartItem.style.borderBottom = '1px solid #ddd';

        // Add product image
        const productImage = document.createElement('img');
        productImage.src = item.image;
        productImage.alt = item.name;
        productImage.style.width = '50px';
        productImage.style.height = '50px';
        productImage.style.marginRight = '10px';

        // Add product details
        const productDetails = document.createElement('div');
        productDetails.style.flex = '1';
        productDetails.style.display = 'flex';
        productDetails.style.flexDirection = 'column';
        productDetails.innerHTML = `
            <strong>${item.name}</strong>
            <span>${item.quantity} x ${item.price.toFixed(2)} ‚Ç¨ = ${(item.price * item.quantity).toFixed(2)} ‚Ç¨</span>
        `;

        // Add a remove button
        const removeButton = document.createElement('button');
        removeButton.textContent = 'Remove';
        removeButton.style.backgroundColor = '#e74c3c';
        removeButton.style.color = 'white';
        removeButton.style.border = 'none';
        removeButton.style.padding = '5px 10px';
        removeButton.style.cursor = 'pointer';
        removeButton.style.borderRadius = '5px';

        // Handle remove button click
        removeButton.addEventListener('click', () => {
            removeProductFromCart(item.id);
        });

        // Append the elements to the cart item container
        cartItem.appendChild(productImage);
        cartItem.appendChild(productDetails);
        cartItem.appendChild(removeButton);

        // Add the cart item to the list
        cartItemList.appendChild(cartItem);

        // Update total cost and total items
        totalCost += item.price * item.quantity;
        totalItems += item.quantity;
    });

    // Update the total price and total items in the UI
    totalPriceElement.textContent = `Total: ${totalCost.toFixed(2)} ‚Ç¨`;
    totalQuantityElement.textContent = `Items: ${totalItems}`;
}

// Function to remove a product from the cart
function removeProductFromCart(productId) {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart = cart.filter(item => item.id !== productId); // Remove the product by its ID
    localStorage.setItem('cart', JSON.stringify(cart)); // Save the updated cart
    updateCartDisplay(); // Refresh the cart display
}

// Display the cart when the page loads
document.addEventListener('DOMContentLoaded', updateCartDisplay);


</script>
<footer class="footer">
    <div class="footer-container">
        <!-- Section des coordonn√©es -->
        <div class="footer-section address">
            <h3>Adresse:</h3>
            <p>Route de tunis Km 7.5<br>Imm. Kanz 1er √âtage N¬∞3<br>2083 Ariana TUNISIE</p>
            <p><strong>Tel:</strong> +216 52 664 255</p>
            <p><strong>Email:</strong> islemellouze@gmail.com</p>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>

        <!-- Section des liens utiles -->
        <div class="footer-section links">
            <h3>Liens utiles</h3>
            <ul>
                <li><a href="inscrption.html">S'inscrire</a></li>
                <li><a href="connexion.html">Se connecter</a></li>
                <li><a href="Panier.html">Mon Panier</a></li>
               
            </ul>
        </div>

        <!-- Section des logos et informations -->
        <div class="footer-section payment">
            <h3>Le comptoir dentaire</h3>
            
        </div>
    </div>
    <div class="footer-bottom">
        <div class="logos">
            <div class="logo-item">
                <p><strong>Livraison:</strong></p>
                <img src="image/first.png" alt="Aramex">
            </div>
            <div class="logo-item">
                <p><strong>Paiement:</strong></p>
                <img src="image/cash3.jpg" alt="Cash on Delivery">
            </div>
            <div class="logo-item">
                <p><strong>Conventionn√© Avec BTS:</strong></p>
                <img src="image/conv.jpg" alt="BTS Bank">
            </div>
        </div>
        
</footer>
</body>
</html>
